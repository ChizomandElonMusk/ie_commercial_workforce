(window.webpackJsonp=window.webpackJsonp||[]).push([[42,15,16],{334:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"e",(function(){return l})),r.d(t,"j",(function(){return m})),r.d(t,"h",(function(){return h})),r.d(t,"c",(function(){return x})),r.d(t,"b",(function(){return k})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return C})),r.d(t,"i",(function(){return A})),r.d(t,"d",(function(){return I}));var n=r(10);r(72),r(17);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",r={param1:t},r=JSON.stringify(r),e.prev=3,e.next=6,fetch("https://api.ikejaelectric.com/ie/harmony/v1/customer/accountlookup",{method:"POST",headers:{Authorization:"Bearer 1ba5295b-3525-3a8c-9b23-69a82e45fb2d","Content-Type":"application/json"},body:r});case 6:return n=e.sent,e.next=9,n.json();case 9:if(o=e.sent,console.log(o),""!=o.meterNumber){e.next=16;break}M.toast({html:'<b class="red-text">Please check meter number agian</b>'}),e.next=22;break;case 16:if(500!=o.status){e.next=21;break}return e.next=19,A();case 19:e.next=22;break;case 21:return e.abrupt("return",o);case 22:e.next=29;break;case 24:e.prev=24,e.t0=e.catch(3),console.log(e.t0),console.log(this.service_type),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 29:case"end":return e.stop()}}),e,this,[[3,24]])})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.toast({html:'<b class="yellow-text">Please wait</b>'}),r="",r={accountNumber:t},r=JSON.stringify(r),e.prev=4,e.next=7,fetch("https://api.ikejaelectric.com/ie/harmony/v1/customer/info",{method:"POST",headers:{Authorization:"Bearer 1ba5295b-3525-3a8c-9b23-69a82e45fb2d","Content-Type":"application/json"},body:r});case 7:return n=e.sent,e.next=10,n.json();case 10:if(500!=(o=e.sent).status){e.next=16;break}return e.next=14,A();case 14:e.next=17;break;case 16:return e.abrupt("return",o);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 23:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function m(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o){var c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.toast({html:'<b class="yellow-text">Uploading </b>'}),console.log(t,r,n,o),(c=new FormData).append("userId",t),c.append("accountNo",r),c.append("docType",n),c.append("file",o),e.prev=7,e.next=10,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/upload/document",{method:"POST",headers:{Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"},body:c});case 10:return l=e.sent,e.next=13,l.json();case 13:if("Success"==(d=e.sent).statusMsg&&M.toast({html:'<b class="green-text">Success </b>'}),500!=d.status){e.next=20;break}return e.next=18,A();case 18:e.next=21;break;case 20:return e.abrupt("return",d);case 21:e.next=28;break;case 23:return e.prev=23,e.t0=e.catch(7),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")}),e.abrupt("return",e.t0);case 28:case"end":return e.stop()}}),e,null,[[7,23]])})))).apply(this,arguments)}function h(e,t,r){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(r,n),e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getPaymentHistory?accountNumber="+t+"&startDate="+r+"&endDate="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return o=e.sent,e.next=7,o.json();case 7:if(500!=(c=e.sent).status){e.next=13;break}return e.next=11,A();case 11:e.next=14;break;case 13:return e.abrupt("return",c);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function x(e,t,r){return w.apply(this,arguments)}function w(){return(w=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(r,n),e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getBillingHistory?accountNumber="+t+"&startDate="+r+"&endDate="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return o=e.sent,e.next=7,o.json();case 7:if(c=e.sent,console.log(c),500!=c.status){e.next=14;break}return e.next=12,A();case 12:e.next=15;break;case 14:return e.abrupt("return",c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getESRDTLink?username="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return r=e.sent,e.next=7,r.json();case 7:if(500!=(n=e.sent).status){e.next=13;break}return e.next=11,A();case 11:e.next=14;break;case 13:return e.abrupt("return",n);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function j(e){return S.apply(this,arguments)}function S(){return(S=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.prev=1,e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getDTSearch?searchString="+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return r=e.sent,console.log(n),e.next=8,r.json();case 8:if(500!=(n=e.sent).status){e.next=14;break}return e.next=12,A();case 12:e.next=15;break;case 14:return e.abrupt("return",n);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function C(e,t){return _.apply(this,arguments)}function _(){return(_=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t,r),e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getFormReport?startDate="+t+"&endDate="+r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(o=e.sent,console.log(o.status),500!=o.status){e.next=14;break}return e.next=12,A();case 12:e.next=15;break;case 14:return e.abrupt("return",o);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function A(){return O.apply(this,arguments)}function O(){return(O=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.toast({html:'<b class="red-text">Session expired</b>'}),localStorage.removeItem("token"),localStorage.setItem("service_type",""),localStorage.setItem("meter_number",""),localStorage.setItem("token",""),localStorage.setItem("forms",""),localStorage.setItem("userId",""),window.location.href="/";case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return new Promise((function(e,t){if(!navigator.geolocation)return M.toast({html:'<b class="red-text">Geolocation is not supported by your browser</b>'}),void t(new Error("Geolocation is not supported by your browser"));navigator.geolocation.getCurrentPosition((function(t){var r=t.coords.longitude,n=t.coords.latitude;e({long:r,lat:n})}),(function(e){!function(e){switch(e.code){case e.PERMISSION_DENIED:M.toast({html:'<b class="red-text">User denied the request for geolocation</b>'});break;case e.POSITION_UNAVAILABLE:M.toast({html:'<b class="red-text">Location information is unavailable</b>'});break;case e.TIMEOUT:default:M.toast({html:'<b class="red-text">The request to get user location timed out</b>'})}}(e),t(e)}),{enableHighAccuracy:!0,timeout:7e3,maximumAge:0})}))}function I(){return R().then((function(e){return{long:e.long,lat:e.lat}})).catch((function(e){console.error("Error getting coordinates:",e)}))}},337:function(e,t,r){"use strict";var n=r(2),o=r(222).trim;n({target:"String",proto:!0,forced:r(379)("trim")},{trim:function(){return o(this)}})},371:function(e,t,r){"use strict";r.r(t);var n={},o=r(16),component=Object(o.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",[e("div",{staticClass:"preloader-wrapper active"},[e("div",{staticClass:"spinner-layer spinner-red-only"},[e("div",{staticClass:"circle-clipper left"},[e("div",{staticClass:"circle"})]),e("div",{staticClass:"gap-patch"},[e("div",{staticClass:"circle"})]),e("div",{staticClass:"circle-clipper right"},[e("div",{staticClass:"circle"})])])])])}],!1,null,null,null);t.default=component.exports},372:function(e,t,r){e.exports=r.p+"img/logo.d2f3c61.png"},374:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row",staticStyle:{"margin-top":"0px"}},[t("div",{staticClass:"col s12 m3"}),e._v(" "),t("div",{staticClass:"col s12 m6 center"},[t("img",{staticClass:"responsive-img circle",staticStyle:{"max-width":"100px","max-height":"100px"},attrs:{src:r(372),alt:""}})]),e._v(" "),t("div",{staticClass:"col s12 m3"})])])}],o={name:"TinaLogo"},c=r(16),component=Object(c.a)(o,(function(){this._self._c;return this._m(0)}),n,!1,null,null,null);t.default=component.exports},375:function(e,t,r){e.exports=r.p+"img/angled_background.c716e15.jpg"},379:function(e,t,r){"use strict";var n=r(93).PROPER,o=r(3),c=r(223);e.exports=function(e){return o((function(){return!!c[e]()||"​᠎"!=="​᠎"[e]()||n&&c[e].name!==e}))}},537:function(e,t,r){"use strict";r.r(t);var n=r(10),o=(r(72),r(91),r(17),r(28),r(41),r(73),r(337),r(375)),c=r.n(o),l=(r(371),r(334)),d={head:function(){return{script:[{hid:"cryptojs",src:"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js",defer:!0}]}},data:function(){return{backgroundUrl:c.a,user_test:"",password_test:"",username:"",password:"",lat:"",long:"",hidePreLoader:!0}},methods:{signIn:function(){M.toast({html:'<b class="yellow-text">Please wait...</b>'}),this.username=this.username.trim(),this.password=this.password.trim(),this.user_test=this.user_test.trim(),this.password_test=this.password_test.trim(),""===this.username||""===this.password?M.toast({html:'<b class="red-text">Username or Password is empty!</b>'}):this.convertEmail(this.username,this.password)},convertEmail:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,c,l,d,content,m,f,h,v,x,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t,c=e,l=r.encryptWithAes256(o,"astsk@#$001!!!*&^"),n.prev=5,n.next=8,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/auth/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"},body:JSON.stringify({usernameOrEmail:c,password:l,latitude:r.lat,longitude:r.long})});case 8:return d=n.sent,console.log("content is being converted to json"),n.next=12,d.json();case 12:content=n.sent,console.log(content),m=content.code,f=content.message,console.log("if statement is being ran to check response"),"09"==m||null==m||null==m?(M.toast({html:'<b class="red-text">'.concat(f,"</b>")}),r.hidePreLoader=!0):"00"===m&&(M.toast({html:'<b class="green-text">Welcome</b>'}),h=content.token,v=content.forms,x=content.userId,w=r.username,localStorage.setItem("token",h),localStorage.setItem("forms",v),localStorage.setItem("userId",x),localStorage.setItem("username",w),r.hidePreLoader=!0,r.$router.push("./menu")),n.next=25;break;case 20:n.prev=20,n.t0=n.catch(5),console.log("Your error says -> ".concat(n.t0)),M.toast({html:'<b class="red-text">'.concat(n.t0,"</b>")}),r.hidePreLoader=!0;case 25:case"end":return n.stop()}}),n,null,[[5,20]])})))()},encryptWithAes256:function(e,t){var r=CryptoJS.lib.WordArray.random(16),n=CryptoJS.PBKDF2(t,r,{keySize:8,iterations:1e3,hasher:CryptoJS.algo.SHA512}),o=CryptoJS.lib.WordArray.random(16),c=CryptoJS.AES.encrypt(e,n,{iv:o});return r.clone().concat(o).concat(c.ciphertext).toString(CryptoJS.enc.Base64).replace(/(.{56})/g,"$1\n")},getUsernameFromLocalStorage:function(){try{var e=localStorage.getItem("username");this.username=null==e||null==e?"":e}catch(e){}}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l.d)();case 3:r=t.sent,n=r.long,o=r.lat,console.log(n,o),e.long=n,e.lat=o,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:e.getUsernameFromLocalStorage();case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},created:function(){}},m=r(16),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row full-width"},[t("div",{staticClass:"col s12 m6",staticStyle:{"margin-top":"130px"}},[t("Logo"),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("h5",{staticClass:"center red-text"},[e._v("\n            IE Commercial Workforce\n          ")]),e._v(" "),t("PreLoader",{staticClass:"center",class:{hide:e.hidePreLoader}})],1),e._v(" "),t("form",{on:{submit:function(e){e.preventDefault()}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"input-field col s12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],ref:"username",staticClass:"black-text focus",attrs:{type:"text",placeholder:"",id:"username",focused:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),t("label",{attrs:{for:"username"}},[e._v("Username")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"input-field col s12"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"black-text",attrs:{type:"password",placeholder:"",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),t("label",{attrs:{for:"password"}},[e._v("Password")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"input-field col s12"},[t("button",{staticClass:"red btn btn-large col s12",on:{click:e.signIn}},[e._v("\n                Login\n              ")])])])])])],1),e._v(" "),t("div",{staticClass:"col s12 m6 full-width hide-on-small-and-down",style:{backgroundImage:"url(".concat(e.backgroundUrl,")")}})])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Logo:r(374).default,PreLoader:r(371).default})}}]);