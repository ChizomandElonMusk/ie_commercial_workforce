(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{366:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"i",(function(){return h})),r.d(t,"k",(function(){return m})),r.d(t,"j",(function(){return k})),r.d(t,"c",(function(){return w})),r.d(t,"b",(function(){return j})),r.d(t,"g",(function(){return S})),r.d(t,"f",(function(){return R})),r.d(t,"h",(function(){return O})),r.d(t,"d",(function(){return D}));var n=r(10);r(72),r(91),r(78),r(17),r(79);function c(e,t){return o.apply(this,arguments)}function o(){return(o=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",n={param1:t},n=JSON.stringify(n),e.prev=3,e.next=6,fetch("https://api.ikejaelectric.com/ie/harmony/v1/customer/accountlookup",{method:"POST",headers:{Authorization:"Bearer 1ba5295b-3525-3a8c-9b23-69a82e45fb2d","Content-Type":"application/json"},body:n});case 6:return c=e.sent,e.next=9,c.json();case 9:if(o=e.sent,console.log(o),""!=o.meterNumber){e.next=17;break}return 1==r?M.toast({html:'<b class="yellow-text">Please wait</b>'}):M.toast({html:'<b class="red-text">Please check meter number agian</b>'}),e.abrupt("return",o);case 17:if(500!=o.status){e.next=22;break}return e.next=20,N();case 20:e.next=23;break;case 22:return e.abrupt("return",o);case 23:e.next=30;break;case 25:e.prev=25,e.t0=e.catch(3),console.log(e.t0),console.log(this.service_type),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 30:case"end":return e.stop()}}),e,this,[[3,25]])})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.toast({html:'<b class="yellow-text">Please wait</b>'}),r="",r={accountNumber:t},r=JSON.stringify(r),e.prev=4,e.next=7,fetch("https://api.ikejaelectric.com/ie/harmony/v1/customer/info",{method:"POST",headers:{Authorization:"Bearer 1ba5295b-3525-3a8c-9b23-69a82e45fb2d","Content-Type":"application/json"},body:r});case 7:return n=e.sent,e.next=10,n.json();case 10:if(500!=(c=e.sent).status){e.next=16;break}return e.next=14,N();case 14:e.next=17;break;case 16:return e.abrupt("return",c);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 23:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this is the meter number from the mode ".concat(t)),M.toast({html:'<b class="yellow-text">Please wait</b>'}),r=localStorage.getItem("token"),console.log(r),e.prev=5,e.next=8,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/customerinfo?meterNo="+t,{method:"GET",headers:{Authorization:"Bearer "+r,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6","Content-Type":"application/json"}});case 8:return n=e.sent,e.next=11,n.json();case 11:if(c=e.sent,console.log("This is the response ".concat(c)),500!=c.status){e.next=18;break}return e.next=16,N();case 16:e.next=19;break;case 18:return e.abrupt("return",c);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(5),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 25:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)}function m(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,c){var o,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.toast({html:'<b class="yellow-text">Uploading </b>'}),console.log(t,r,n,c),(o=new FormData).append("userId",t),o.append("accountNo",r),o.append("docType",n),o.append("file",c),e.prev=7,e.next=10,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/upload/document",{method:"POST",headers:{Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"},body:o});case 10:return l=e.sent,e.next=13,l.json();case 13:if("Success"==(f=e.sent).statusMsg&&M.toast({html:'<b class="green-text">Success </b>'}),500!=f.status){e.next=20;break}return e.next=18,N();case 18:e.next=21;break;case 20:return e.abrupt("return",f);case 21:e.next=28;break;case 23:return e.prev=23,e.t0=e.catch(7),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")}),e.abrupt("return",e.t0);case 28:case"end":return e.stop()}}),e,null,[[7,23]])})))).apply(this,arguments)}function k(e,t,r){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,l,f,h,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t,e.next=3,c(o,!0);case 3:if(l=e.sent,console.log("this is the account number ".concat(l)),""!=l.meterNumber&&"undefined"!=l){e.next=28;break}return e.prev=6,console.log(r,n),e.next=10,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getPaymentHistory?accountNumber="+o+"&startDate="+r+"&endDate="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 10:return f=e.sent,e.next=13,f.json();case 13:if(500!=(h=e.sent).status){e.next=19;break}return e.next=17,N();case 17:e.next=20;break;case 19:return e.abrupt("return",h);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(6),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 26:e.next=50;break;case 28:if(""==l.accountNumber||"00"!=l.code){e.next=50;break}return o=l.accountNumber,e.prev=30,console.log(r,n),e.next=34,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getPaymentHistory?accountNumber="+o+"&startDate="+r+"&endDate="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 34:return d=e.sent,e.next=37,d.json();case 37:if(500!=(m=e.sent).status){e.next=43;break}return e.next=41,N();case 41:e.next=44;break;case 43:return e.abrupt("return",m);case 44:e.next=50;break;case 46:e.prev=46,e.t1=e.catch(30),console.log(e.t1),M.toast({html:'<b class="red-text">'.concat(e.t1,"</b>")});case 50:case"end":return e.stop()}}),e,null,[[6,22],[30,46]])})))).apply(this,arguments)}function w(e,t,r){return y.apply(this,arguments)}function y(){return(y=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(r,n),e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getBillingHistory?accountNumber="+t+"&startDate="+r+"&endDate="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return c=e.sent,e.next=7,c.json();case 7:if(o=e.sent,console.log(o),500!=o.status){e.next=14;break}return e.next=12,N();case 12:e.next=15;break;case 14:return e.abrupt("return",o);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function j(e){return A.apply(this,arguments)}function A(){return(A=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getESRDTLink?username="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return r=e.sent,e.next=7,r.json();case 7:if(500!=(n=e.sent).status){e.next=13;break}return e.next=11,N();case 11:e.next=14;break;case 13:return e.abrupt("return",n);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return(T=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.prev=1,e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getDTSearch?searchString="+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return r=e.sent,console.log(n),e.next=8,r.json();case 8:if(500!=(n=e.sent).status){e.next=14;break}return e.next=12,N();case 12:e.next=15;break;case 14:return e.abrupt("return",n);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function R(e){return B.apply(this,arguments)}function B(){return(B=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.prev=1,e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getidbboxinfo?dcuNo="+t,{method:"GET",headers:{Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return r=e.sent,console.log(n),e.next=8,r.json();case 8:if(500!=(n=e.sent).status){e.next=14;break}return e.next=12,N();case 12:e.next=15;break;case 14:return e.abrupt("return",n);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function O(e,t){return I.apply(this,arguments)}function I(){return(I=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t,r),e.next=4,fetch("https://api.ikejaelectric.com/cwfrestapi/v1/api/v1/getFormReport?startDate="+t+"&endDate="+r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.token,Auth:"Bearer c49cf8b4-56bf-3bc6-bd6f-d2ae876cc2e6"}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,console.log(c.status),500!=c.status){e.next=14;break}return e.next=12,N();case 12:e.next=15;break;case 14:return e.abrupt("return",c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),M.toast({html:'<b class="red-text">'.concat(e.t0,"</b>")});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function N(){return E.apply(this,arguments)}function E(){return(E=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.toast({html:'<b class="red-text">Session expired</b>'}),localStorage.removeItem("token"),localStorage.setItem("service_type",""),localStorage.setItem("meter_number",""),localStorage.setItem("token",""),localStorage.setItem("forms",""),localStorage.setItem("userId",""),window.location.href="/";case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return new Promise((function(e,t){if(!navigator.geolocation)return M.toast({html:'<b class="red-text">Geolocation is not supported by your browser</b>'}),void e({long:0,lat:0});navigator.geolocation.getCurrentPosition((function(t){var r=t.coords.longitude,n=t.coords.latitude;e({long:r,lat:n})}),(function(t){!function(e){switch(e.code){case e.PERMISSION_DENIED:M.toast({html:'<b class="red-text">User denied the request for geolocation</b>'});break;case e.POSITION_UNAVAILABLE:M.toast({html:'<b class="red-text">Location information is unavailable</b>'});break;case e.TIMEOUT:M.toast({html:'<b class="red-text">The request to get user location timed out</b>'});break;default:M.toast({html:'<b class="red-text">An unknown error occurred while fetching location</b>'})}}(t),t.code===t.POSITION_UNAVAILABLE||t.message.includes("kCLErrorLocationUnknown")?(console.warn("Location unknown. Retrying or falling back to default values."),e({long:0,lat:0})):e({long:0,lat:0})}),{enableHighAccuracy:!0,timeout:7e3,maximumAge:0})}))}function D(){return P().then((function(e){var t=e.long,r=e.lat;return console.log("Longitude: ".concat(t,", Latitude: ").concat(r)),{long:t,lat:r}})).catch((function(e){return console.error("Error getting coordinates:",e),{long:0,lat:0}}))}}}]);